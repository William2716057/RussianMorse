#!/bin/bash

declare -A morse_dict

morse_dict=(
    [".-"]="А"   ["-..."]="Б"   ["-.."]="В"   ["--."]="Г"   ["--.."]="Д"
    ["."]="Е"   ["...-"]="Ж"   ["--.."]="З"   [".."]="И"   ["--.."]="Й"
    ["-.-"]="К"   [".---"]="Л"   ["--"]="М"   ["-."]="Н"   ["---"]="О"
    [".--."]="П"   ["--.-"]="Р"   ["..."]="С"   ["-"]="Т"   ["..-"]="У"
    ["..-."]="Ф"   ["...."]="Х"   ["-.-."]="Ц"   ["---."]="Ч"   ["----"]="Ш"
    ["--.-."]="Щ"   ["-..-"]="Ь"   ["-.--"]="Ы"   ["..-."]="Э"   ["..--"]="Ю"
    [".--."]="Я"   [".----"]="1"   ["..---"]="2"   ["...--"]="3"   ["....-"]="4"
    ["....."]="5"   ["-...."]="6"   ["--..."]="7"   ["---.."]="8"   ["----."]="9"
    ["-----"]="0"   [".-.-.-"]="."   ["--..--"]=","   ["..--.."]="?"   ["-.-.--"]="!"
    [".----."]="'"   ["-....-"]="- "   ["-.--."]="/"   ["---..."]=":"   ["-.-.-."]=";"
    ["-.--."]="("   ["-.--.-"]=")"   [".---."]="&"   ["-...-"]="="   [".-.-."]="+"
    ["-.--."]="/"   ["...-..-"]="$"   [".--.-."]="@"   ["/"]=" "

)

from_morse() {
	input_string="$1"
	output_string=""

	for code in $input_string; do
		if [[ -n "${morse_dict[$code]}" ]]; then
			output_string+="${morse_dict[$code]}"
		else
			output_string+="Char unrecognised"
		fi
	done

	echo "$output_string"

}
input="--.-. -... ....."
echo "$(from_morse "$input")"
